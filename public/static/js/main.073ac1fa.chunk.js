(this["webpackJsonpsecret-friend-frontend"]=this["webpackJsonpsecret-friend-frontend"]||[]).push([[0],{31:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),i=n(12),c=n.n(i),s=(n(22),n(4)),d=n(10),l=n(16),o=n(3),b=n(6),j="[Secret Friend] Add Friend",u="[Secret Friend] Delete Friend",m="[Secret Friend] Set Secret Friend",O="[Secret Friend] Set Friends List Visibility",f="[Secret Friend] SetSecret Friends Visibility",p="[Secret Friend] Set Add Friend Form Visibility",h={friendsList:[],secretFriends:null,friendsListVisibility:!0,secretFriendsVisibility:!1,addFriendFormVisibility:!0},x=Object(d.b)({secretFriends:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case j:return Object(b.a)(Object(b.a)({},e),{},{friendsList:[].concat(Object(o.a)(e.friendsList),[t.payload])});case u:return Object(b.a)(Object(b.a)({},e),{},{friendsList:e.friendsList.filter((function(e){return e!==t.payload}))});case m:return Object(b.a)(Object(b.a)({},e),{},{secretFriends:t.payload});case O:return Object(b.a)(Object(b.a)({},e),{},{friendsListVisibility:t.payload});case f:return Object(b.a)(Object(b.a)({},e),{},{secretFriendsVisibility:t.payload});case p:return Object(b.a)(Object(b.a)({},e),{},{addFriendFormVisibility:t.payload});default:return e}}}),v="undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||d.c,y=Object(d.d)(x,v(Object(d.a)(l.a))),g=n(17),F=n(2),N=n.n(F),S=n(5),_=function(){var e=Object(S.a)(N.a.mark((function e(t){var n,r,a,i,c;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=new Headers).append("Content-Type","application/json"),r=JSON.stringify({friendsList:t}),a={method:"POST",headers:n,body:r,redirect:"follow"},e.next=6,fetch("http://cfcs-secret-friend.herokuapp.com",a);case 6:return i=e.sent,e.next=9,i.json();case 9:return c=e.sent,e.abrupt("return",c);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),L=function(e){return{type:m,payload:e}},w=function(e){return{type:O,payload:e}},V=function(e){return{type:f,payload:e}},C=function(e){return{type:p,payload:e}},k=n(1),E=function(){var e=Object(s.b)(),t=Object(s.c)((function(e){return e.secretFriends})).friendsList,n=Object(g.a)(),r=n.register,a=n.handleSubmit,i=n.formState.errors;return Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)("hr",{}),Object(k.jsx)("form",{onSubmit:a((function(t){var n=t.name;e({type:j,payload:n})})),className:"animate__animated animate__fadeInDown",children:Object(k.jsxs)("div",{className:"row my-3",children:[Object(k.jsxs)("div",{className:"col",children:[Object(k.jsx)("input",Object(b.a)({type:"text",placeholder:"Nombre",className:"form-control"},r("name",{required:!0,validate:function(e){return!t.includes(e)}}))),i.name&&"required"===i.name.type&&Object(k.jsx)("div",{className:"alert alert-danger p-1 mt-2",role:"alert",children:"Name is required"}),i.name&&"validate"===i.name.type&&Object(k.jsx)("div",{className:"alert alert-danger p-1 mt-2",role:"alert",children:"Name is already included on the list"})]}),Object(k.jsx)("div",{className:"col",children:Object(k.jsx)("button",{type:"submit",className:"btn btn-primary",children:"Agregar"})})]})}),Object(k.jsx)("hr",{})]})},I=function(e){var t=e.name,n=Object(s.b)();return Object(k.jsxs)("li",{className:"list-group-item animate__animated animate__fadeInLeft",children:[t,Object(k.jsx)("button",{className:"btn btn-danger float-end",onClick:function(){n({type:u,payload:t})},children:"Eliminar"})]})},T=function(){var e=Object(s.c)((function(e){return e.secretFriends})).friendsList,t=Object(s.b)();console.log(e.length);return Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)("ul",{className:"list-group animate__animated animate__fadeInLeft",children:e.map((function(e){return Object(k.jsx)(I,{name:e},e)}))}),e.length>2&&Object(k.jsx)("button",{className:"btn btn-primary mt-3",onClick:function(){t(function(){var e=Object(S.a)(N.a.mark((function e(t,n){var r,a;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n().secretFriends.friendsList,e.next=3,_(r);case 3:a=e.sent,t(L(a)),t(w(!1)),t(V(!0)),t(C(!1));case 8:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}())},children:"Obtener amigos secretos"})]})},D=function(){return Object(k.jsx)("nav",{className:"navbar navbar-expand-lg  navbar-dark bg-dark",children:Object(k.jsxs)("div",{className:"container-fluid",children:[Object(k.jsx)("a",{className:"navbar-brand",href:".",children:"secret-friend-app"}),Object(k.jsx)("button",{className:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation",children:Object(k.jsx)("span",{className:"navbar-toggler-icon"})}),Object(k.jsx)("div",{className:"collapse navbar-collapse",id:"navbarSupportedContent",children:Object(k.jsx)("ul",{className:"navbar-nav me-auto mb-2 mb-lg-0"})})]})})},A=n(8),P=function(){var e=Object(s.c)((function(e){return e.secretFriends})).secretFriends,t=Object(s.b)(),n=Object.entries(e);return Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)("ul",{className:"list-group animate__animated animate__fadeInLeft",children:n.map((function(e){var t=Object(A.a)(e,2),n=t[0],r=t[1];return Object(k.jsxs)("li",{className:"list-group-item",children:[n,Object(k.jsx)("div",{class:"alert alert-info float-end p-1 w-50",role:"alert",children:r})]},n)}))}),Object(k.jsx)("button",{className:"btn btn-primary mt-3",onClick:function(){t(w(!0)),t(V(!1)),t(C(!0))},children:"Volver"})]})},q=function(){var e=Object(s.c)((function(e){return e.secretFriends})),t=e.friendsListVisibility,n=e.secretFriendsVisibility,r=e.addFriendFormVisibility;return Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)(D,{}),Object(k.jsxs)("div",{className:"container",children:[Object(k.jsx)("div",{className:"row my-3",children:r&&Object(k.jsx)(E,{})}),Object(k.jsxs)("div",{className:"row",children:[t&&Object(k.jsxs)("div",{className:"col",children:[Object(k.jsx)("h2",{children:"Lista de amigos"}),Object(k.jsx)(T,{})]}),n&&Object(k.jsxs)("div",{className:"col",children:[Object(k.jsx)("h2",{children:"Amigos secretos"}),Object(k.jsx)(P,{})]})]}),Object(k.jsx)("div",{className:"row"})]})]})};var J=function(){return Object(k.jsx)(s.a,{store:y,children:Object(k.jsx)(q,{})})},B=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,32)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,i=t.getLCP,c=t.getTTFB;n(e),r(e),a(e),i(e),c(e)}))};c.a.render(Object(k.jsx)(a.a.StrictMode,{children:Object(k.jsx)(J,{})}),document.getElementById("root")),B()}},[[31,1,2]]]);
//# sourceMappingURL=main.073ac1fa.chunk.js.map